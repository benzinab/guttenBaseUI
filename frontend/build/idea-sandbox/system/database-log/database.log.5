-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179713] results received
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179713] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179714] 
with A as ( select oid as table_id, pg_catalog.upper(relkind) as table_kind
            from pg_catalog.pg_class
            where relnamespace = ?::oid
              and relkind in ('r', 'm', 'v', 'f', 'p') )
select table_kind,
       table_id,
       R.oid as rule_id,
       pg_catalog.pg_get_ruledef(R.oid, true) as source_text
from A join pg_catalog.pg_rewrite R
        on A.table_id = R.ev_class
where R.rulename != '_RETURN'::name
  --  and pg_catalog.age(R.xmin) <= pg_catalog.age(:src_tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179714] results received
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179714] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179715] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:src_tx::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179715] results received
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179715] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179716] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179716] results received
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179716] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179717] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179717] results received
-- 2020-11-12 01:03:23 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1567851456] [statement id: 2137179717] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- 2020-11-12 01:03:24 [testy2] [PsqlDatabase@localhost] [session id: 1567851456] disconnected
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [session id: 1567851457] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179718] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179718] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179718] finished - execution time: 2 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179719] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179719] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179719] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179720] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179720] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179720] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179721] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179721] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179721] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179722] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179722] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179722] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179723] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179723] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179723] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179724] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179724] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179724] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179725] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179725] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179725] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179726] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179726] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179726] finished - execution time: 3 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179727] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179727] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179727] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179728] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179728] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179728] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179729] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179729] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179729] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179730] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179730] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179730] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179731] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179731] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179731] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179732] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179732] results received
-- 2020-11-12 01:04:42 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179732] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179733] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179733] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179733] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179734] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179734] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179734] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179735] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179735] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179735] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179736] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179736] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179736] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179737] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179737] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179737] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179738] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179738] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179738] finished - execution time: 8 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179739] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179739] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179739] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179740] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179740] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179740] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179741] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179741] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179741] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179742] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179742] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179742] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179743] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179743] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179743] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179744] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179744] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179744] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179745] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179745] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179745] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179746] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179746] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179746] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179747] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179747] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179747] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179748] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179748] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179748] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179749] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179749] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179749] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179750] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179750] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179750] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179751] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179751] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179751] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179752] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179752] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179752] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179753] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179753] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179753] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179754] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179754] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179754] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179755] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179755] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179755] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179756] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179756] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179756] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179757] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179757] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179757] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179758] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179758] results received
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [introspection] [session id: 1567851457] [statement id: 2137179758] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 01:04:43 [testy2] [MySQL1@localhost] [session id: 1567851457] disconnected
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [session id: 1916710579] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710579] [statement id: 1588223157] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (24586)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (24586)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (24586)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (24586)
*/
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710579] [statement id: 1588223157] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710579] [statement id: 1588223157] finished - execution time: 35 ms, fetching time: 23 ms, total result sets count: 1
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [session id: 1916710579] disconnected
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [session id: 1916710580] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1916710580] [statement id: 1588223158] 
drop table test.new_table
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1916710580] [statement id: 1588223158] finished - execution time: 7 ms
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [session id: 1916710581] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223159] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223159] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223159] finished - execution time: 3 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223160] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223160] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223160] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223161] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223161] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223161] finished - execution time: 5 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223162] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223162] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223162] finished - execution time: 5 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223163] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223163] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223163] finished - execution time: 55 ms, fetching time: 22 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223164] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223164] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223164] finished - execution time: 5 ms, fetching time: 12 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223165] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223165] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223165] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223166] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223166] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223166] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223167] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223167] results received
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223167] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:30 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223168] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223168] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223168] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223169] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223169] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223169] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223170] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223170] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223170] finished - execution time: 5 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223171] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223171] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223171] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223172] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223172] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223172] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223173] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223173] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223173] finished - execution time: 6 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223174] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223174] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223174] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223175] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223175] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223175] finished - execution time: 2 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223176] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223176] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223176] finished - execution time: 5 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223177] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223177] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223177] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223178] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223178] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223178] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223179] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223179] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223179] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223180] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223180] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223180] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223181] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223181] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223181] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223182] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223182] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223182] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223183] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223183] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223183] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223184] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223184] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223184] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223185] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223185] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223185] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223186] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223186] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223186] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223187] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223187] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223187] finished - execution time: 15 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223188] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223188] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223188] finished - execution time: 3 ms, fetching time: 20 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223189] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223189] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223189] finished - execution time: 5 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223190] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223190] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223190] finished - execution time: 7 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223191] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223191] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223191] finished - execution time: 10 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223192] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223192] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223192] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223193] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223193] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223193] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223194] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223194] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223194] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223195] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223195] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223195] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223196] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223196] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223196] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223197] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223197] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223197] finished - execution time: 5 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223198] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223198] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223198] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223199] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  and pg_catalog.age(ft.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223199] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223199] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223200] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223200] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223200] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223201] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid)) ),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223201] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223201] finished - execution time: 6 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223202] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223202] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223202] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223203] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid) )
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223203] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223203] finished - execution time: 5 ms, fetching time: 13 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223204] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223204] results received
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223204] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:31 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223205] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223205] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223205] finished - execution time: 1 s 108 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223206] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223206] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223206] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223207] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223207] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223207] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223208] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223208] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223208] finished - execution time: 1 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223209] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223209] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223209] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223210] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223210] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223210] finished - execution time: 2 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223211] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223211] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223211] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223212] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223212] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223212] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223213] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223213] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223213] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223214] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid) )
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223214] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223214] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223215] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223215] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223215] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223216] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
where pg_catalog.age(table_state_id) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(?::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223216] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223216] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223217] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223217] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223217] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223218] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223218] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223218] finished - execution time: 5 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223219] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223219] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223219] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223220] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223220] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223220] finished - execution time: 7 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223221] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223221] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223221] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223222] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  and (pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223222] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223222] finished - execution time: 6 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223223] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223223] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223223] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223224] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223224] results received
-- 2020-11-12 01:48:32 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223224] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223225] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223225] results received
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223225] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223226] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223226] results received
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223226] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223227] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223227] results received
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223227] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223228] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
          and pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223228] results received
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710581] [statement id: 1588223228] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- 2020-11-12 01:48:33 [testy2] [PsqlDatabase@localhost] [session id: 1916710581] disconnected
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [session id: 1916710582] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223229] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223229] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223229] finished - execution time: 6 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223230] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223230] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223230] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223231] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223231] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223231] finished - execution time: 3 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223232] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223232] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223232] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223233] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223233] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223233] finished - execution time: 51 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223234] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223234] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223234] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223235] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223235] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223235] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223236] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223236] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223236] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223237] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223237] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223237] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223238] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223238] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223238] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223239] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223239] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223239] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223240] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223240] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223240] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223241] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223241] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223241] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223242] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223242] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223242] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223243] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223243] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223243] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223244] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223244] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223244] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223245] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223245] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223245] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223246] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223246] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223246] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223247] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223247] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223247] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223248] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223248] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223248] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223249] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223249] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223249] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223250] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223250] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223250] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223251] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223251] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223251] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223252] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223252] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223252] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223253] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223253] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223253] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223254] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223254] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223254] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223255] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223255] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223255] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223256] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223256] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223256] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223257] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223257] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223257] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223258] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223258] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223258] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223259] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223259] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223259] finished - execution time: 15 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223260] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223260] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223260] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223261] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223261] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223261] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223262] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223262] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223262] finished - execution time: 12 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223263] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223263] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223263] finished - execution time: 13 ms, fetching time: 72 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223264] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223264] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223264] finished - execution time: 8 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223265] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223265] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223265] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223266] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223266] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223266] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223267] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223267] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223267] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223268] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223268] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223268] finished - execution time: 6 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223269] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223269] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223269] finished - execution time: 4 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223270] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223270] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223270] finished - execution time: 5 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223271] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  and pg_catalog.age(ft.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223271] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223271] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223272] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid)) ),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223272] results received
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223272] finished - execution time: 10 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223273] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid) )
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 01:48:35 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223273] results received
-- 2020-11-12 01:48:36 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223273] finished - execution time: 45 ms, fetching time: 85 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:36 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223274] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223274] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223274] finished - execution time: 1 s 45 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223275] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223275] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223275] finished - execution time: 10 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223276] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223276] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223276] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223277] 
with types      as (select distinct
                           T.oid as type_id,
                           C.oid as class_id
                    from pg_catalog.pg_type T
                    join pg_catalog.pg_class C
                      on T.typrelid = C.oid
                    join pg_catalog.pg_attribute A
                      on C.oid = A.attrelid
                    where T.typnamespace = ?::oid
                      and pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
                      and T.typtype = 'c'::"char"
                      and C.relkind = 'c'::"char"),
     attributes as (select A.attrelid as class_id,
                           A.attnum   as att_position,
                           A.attname  as att_name,
                           pg_catalog.format_type(A.atttypid, A.atttypmod) as att_type,
                           A.attisdropped as att_dropped
                    from pg_catalog.pg_attribute A)
select type_id, att_position, att_name, att_type, att_dropped
from types natural join attributes
order by type_id::bigint, att_position
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223277] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223277] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223278] 
with types as (select distinct T.oid as type_id
               from pg_catalog.pg_type T
               join pg_catalog.pg_enum E
                 on T.oid = E.enumtypid
               where T.typnamespace = ?::oid
                 and T.typtype = 'e'::"char"
               and pg_catalog.age(E.xmin) <= pg_catalog.age(?::varchar::xid)
               )
select T.type_id as enum_id,
       pg_catalog.array_agg(E.enumlabel::varchar order by E.enumsortorder ) as enum_labels
from types T
join pg_catalog.pg_enum E
  on T.type_id = E.enumtypid
group by T.type_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223278] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223278] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223279] 
with T as ( select distinct T.oid as table_id, T.relname as table_name
            from pg_catalog.pg_class T,
                 pg_catalog.pg_attribute A
            where T.relnamespace = ?::oid
              and T.relkind in ('r', 'm', 'v', 'f', 'p')
              and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid))
              and A.attrelid = T.oid )
select T.table_id,
       C.attnum as column_position,
       C.attname as column_name,
       C.xmin as column_state_number,
       C.atttypmod as type_mod,
       C.attndims as dimensions_number,
       pg_catalog.format_type(C.atttypid, C.atttypmod) as type_spec,
       C.atttypid as type_id,
       C.attnotnull as mandatory,
       pg_catalog.pg_get_expr(D.adbin, T.table_id) /* D.adsrc */ as column_default_expression,
       not C.attislocal as column_is_inherited,
       C.attfdwoptions as options,
       C.attisdropped as column_is_dropped,
       C.attidentity /* null */ as identity_kind
from T
  inner join pg_catalog.pg_attribute C on T.table_id = C.attrelid
  left outer join pg_catalog.pg_attrdef D on (C.attrelid, C.attnum) = (D.adrelid, D.adnum)
where attnum > 0
order by table_id, attnum
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223279] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223279] finished - execution time: 11 ms, fetching time: 13 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223280] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid) )
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223280] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223280] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223281] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
where pg_catalog.age(table_state_id) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(?::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223281] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223281] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223282] 
select R.ev_class as table_id,
       R.oid as rule_id,
       R.xmin as rule_state_number,
       R.rulename as rule_name,
       pg_catalog.translate(ev_type,'1234','SUID') as rule_event_code,
       R.ev_enabled as rule_fire_mode,
       R.is_instead as rule_is_instead
from pg_catalog.pg_rewrite R
where R.ev_class in (select oid
                     from pg_catalog.pg_class
                     where relnamespace = ?::oid)
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
  and R.rulename != '_RETURN'::name
order by R.ev_class::bigint, ev_type
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223282] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223282] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223283] 
select T.tgrelid as table_id,
       T.oid as trigger_id,
       T.xmin as trigger_state_number,
       T.tgname as trigger_name,
       T.tgfoid as function_id,
       T.tgtype & 31 as bits,
       T.tgdeferrable as is_deferrable,
       T.tginitdeferred as is_init_deferred,
       T.tgenabled as trigger_fire_mode,
       T.tgattr as columns,
       pg_catalog.pg_get_triggerdef(T.oid, true) as source_code
from pg_catalog.pg_trigger T
where T.tgrelid in (select oid
                    from pg_catalog.pg_class
                    where relnamespace = ?::oid)
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and not T.tgisinternal
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223283] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223283] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223284] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223284] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223284] finished - execution time: 14 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223285] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  and (pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223285] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223285] finished - execution time: 90 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223286] 
with A as ( select oid as table_id, pg_catalog.upper(relkind) as table_kind
            from pg_catalog.pg_class
            where relnamespace = ?::oid
              and relkind in ('r', 'm', 'v', 'f', 'p') )
select table_kind,
       table_id,
       R.oid as rule_id,
       pg_catalog.pg_get_ruledef(R.oid, true) as source_text
from A join pg_catalog.pg_rewrite R
        on A.table_id = R.ev_class
where R.rulename != '_RETURN'::name
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223286] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223286] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223287] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223287] results received
-- 2020-11-12 01:48:37 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223287] finished - execution time: 6 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223288] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223288] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223288] finished - execution time: 6 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223289] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
          and pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223289] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223289] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223290] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          --  and pg_catalog.age(cls.xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223290] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223290] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223291] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223291] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223291] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223292] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223292] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223292] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223293] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  --  and pg_catalog.age(ft.xmin) <= pg_catalog.age(:tx::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223293] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223293] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223294] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */ ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */ ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           /* and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(:tx::varchar::xid)) */),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223294] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223294] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223295] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */)
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223295] results received
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223295] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:38 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223296] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
--  and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(:tx::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223296] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223296] finished - execution time: 1 s 770 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223297] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223297] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223297] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223298] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223298] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223298] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223299] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    /* and pg_catalog.age(cls.xmin) <= pg_catalog.age(:tx::varchar::xid) */)
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223299] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223299] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223300] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
--  where pg_catalog.age(table_state_id) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(:tx::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223300] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223300] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223301] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223301] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223301] finished - execution time: 10 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223302] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  --  and (pg_catalog.age(T.xmin) <= pg_catalog.age(:src_tx::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(:src_tx::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223302] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223302] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223303] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:src_tx::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223303] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223303] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223304] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223304] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223304] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223305] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223305] results received
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1916710582] [statement id: 1588223305] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- 2020-11-12 01:48:40 [testy2] [PsqlDatabase@localhost] [session id: 1916710582] disconnected
-- 2020-11-12 01:49:46 [testy2] [MySQL1@localhost] [session id: 1916710583] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:49:46 [testy2] [MySQL1@localhost] [refactoring] [session id: 1916710583] [statement id: 1588223306] 
use test
-- ] --------------------------------------------------
-- 2020-11-12 01:49:46 [testy2] [MySQL1@localhost] [refactoring] [session id: 1916710583] [statement id: 1588223306] finished - execution time: 2 ms
-- [ --------------------------------------------------
-- 2020-11-12 01:49:46 [testy2] [MySQL1@localhost] [refactoring] [session id: 1916710583] [statement id: 1588223307] 
drop table new_table
-- ] --------------------------------------------------
-- 2020-11-12 01:49:46 [testy2] [MySQL1@localhost] [refactoring] [session id: 1916710583] [statement id: 1588223307] finished - execution time: 56 ms
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [session id: 1916710584] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223308] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223308] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223308] finished - execution time: 48 ms, fetching time: 19 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223309] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223309] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223309] finished - execution time: 2 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223310] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223310] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223310] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223311] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223311] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223311] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223312] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223312] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223312] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223313] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223313] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223313] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223314] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223314] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223314] finished - execution time: 2 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223315] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223315] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223315] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223316] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223316] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223316] finished - execution time: 6 ms, fetching time: 18 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223317] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223317] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223317] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223318] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223318] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223318] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223319] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223319] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223319] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223320] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223320] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223320] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223321] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223321] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223321] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223322] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223322] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223322] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223323] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223323] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223323] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223324] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223324] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223324] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223325] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223325] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223325] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223326] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223326] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223326] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223327] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223327] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223327] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223328] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223328] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223328] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223329] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223329] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223329] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223330] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223330] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223330] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223331] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223331] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223331] finished - execution time: 3 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223332] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223332] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223332] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223333] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223333] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223333] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223334] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223334] results received
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710584] [statement id: 1588223334] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- 2020-11-12 01:49:47 [testy2] [MySQL1@localhost] [session id: 1916710584] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [refactoring] [session id: 1916710583] [statement id: 1588223335] 
create table test_table
(
	test_column1 int null,
	test_column2 int null
)
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [refactoring] [session id: 1916710583] [statement id: 1588223335] finished - execution time: 75 ms
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [session id: 1916710585] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223336] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223336] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223336] finished - execution time: 2 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223337] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223337] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223337] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223338] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223338] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223338] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223339] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223339] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223339] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223340] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223340] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223340] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223341] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223341] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223341] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223342] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223342] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223342] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223343] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223343] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223343] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223344] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223344] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223344] finished - execution time: 4 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223345] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223345] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223345] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223346] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223346] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223346] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223347] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223347] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223347] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223348] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223348] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223348] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223349] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223349] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223349] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223350] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223350] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223350] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223351] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223351] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223351] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223352] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223352] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223352] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223353] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223353] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223353] finished - execution time: 9 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223354] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223354] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223354] finished - execution time: 5 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223355] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223355] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223355] finished - execution time: 7 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223356] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223356] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223356] finished - execution time: 8 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223357] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223357] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223357] finished - execution time: 9 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223358] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223358] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223358] finished - execution time: 14 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223359] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223359] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223359] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223360] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223360] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223360] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223361] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223361] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223361] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223362] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223362] results received
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [introspection] [session id: 1916710585] [statement id: 1588223362] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- 2020-11-12 01:50:13 [testy2] [MySQL1@localhost] [session id: 1916710585] disconnected
-- 2020-11-12 01:55:52 [testy2] [MySQL1@localhost] [session id: 1116005359] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:55:52 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895314] 
use test
-- ] --------------------------------------------------
-- 2020-11-12 01:55:52 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895314] finished - execution time: 9 ms
-- [ --------------------------------------------------
-- 2020-11-12 01:55:52 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895315] 
drop table test_table
-- ] --------------------------------------------------
-- 2020-11-12 01:55:52 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895315] finished - execution time: 10 ms
-- 2020-11-12 01:55:52 [testy2] [MySQL1@localhost] [session id: 1116005360] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895316] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895316] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895316] finished - execution time: 48 ms, fetching time: 21 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895317] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895317] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895317] finished - execution time: 4 ms, fetching time: 16 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895318] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895318] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895318] finished - execution time: 4 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895319] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895319] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895319] finished - execution time: 7 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895320] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895320] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895320] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895321] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895321] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895321] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895322] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895322] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895322] finished - execution time: 3 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895323] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895323] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895323] finished - execution time: 5 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895324] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895324] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895324] finished - execution time: 8 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895325] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895325] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895325] finished - execution time: 7 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895326] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895326] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895326] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895327] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895327] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895327] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895328] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895328] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895328] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895329] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895329] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895329] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895330] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895330] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895330] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895331] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895331] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895331] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895332] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895332] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895332] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895333] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895333] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895333] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895334] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895334] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895334] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895335] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895335] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895335] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895336] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895336] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895336] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895337] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895337] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895337] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895338] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895338] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895338] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895339] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895339] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895339] finished - execution time: 4 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895340] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895340] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895340] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895341] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895341] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895341] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895342] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895342] results received
-- 2020-11-12 01:55:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005360] [statement id: 563895342] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- 2020-11-12 01:55:54 [testy2] [MySQL1@localhost] [session id: 1116005360] disconnected
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005361] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005361] [statement id: 563895343] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (2200)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (2200)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (2200)
*/
-- ] --------------------------------------------------
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005361] [statement id: 563895343] results received
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005361] [statement id: 563895343] finished - execution time: 29 ms, fetching time: 20 ms, total result sets count: 1
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005361] disconnected
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005362] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895344] 
create table test.test_table1
(
	test_column1 int,
	test_column2 int,
	test_column3 int
)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895344] finished - execution time: 20 ms
-- 2020-11-12 01:56:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005363] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895345] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895345] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895345] finished - execution time: 85 ms, fetching time: 21 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895346] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895346] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895346] finished - execution time: 6 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895347] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895347] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895347] finished - execution time: 6 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895348] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895348] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895348] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895349] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895349] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895349] finished - execution time: 82 ms, fetching time: 18 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895350] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895350] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895350] finished - execution time: 5 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895351] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895351] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895351] finished - execution time: 4 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895352] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895352] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895352] finished - execution time: 5 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895353] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895353] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895353] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895354] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895354] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895354] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895355] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895355] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895355] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895356] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895356] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895356] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895357] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895357] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895357] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895358] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895358] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895358] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895359] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895359] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895359] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895360] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895360] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895360] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895361] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895361] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895361] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895362] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895362] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895362] finished - execution time: 4 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895363] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895363] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895363] finished - execution time: 2 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895364] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895364] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895364] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895365] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895365] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895365] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895366] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895366] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895366] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895367] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895367] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895367] finished - execution time: 6 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895368] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895368] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895368] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895369] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895369] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895369] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895370] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895370] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895370] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895371] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895371] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895371] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895372] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895372] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895372] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895373] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895373] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895373] finished - execution time: 10 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895374] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895374] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895374] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895375] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895375] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895375] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895376] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          --  and pg_catalog.age(cls.xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895376] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895376] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895377] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895377] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895377] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895378] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895378] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895378] finished - execution time: 5 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895379] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  --  and pg_catalog.age(ft.xmin) <= pg_catalog.age(:tx::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895379] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895379] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895380] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */ ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */ ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           /* and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(:tx::varchar::xid)) */),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895380] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895380] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895381] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */)
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895381] results received
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895381] finished - execution time: 5 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:41 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895382] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
--  and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(:tx::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895382] results received
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895382] finished - execution time: 1 s 48 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895383] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895383] results received
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895383] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895384] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895384] results received
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895384] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895385] 
with T as ( select distinct T.oid as table_id, T.relname as table_name
            from pg_catalog.pg_class T,
                 pg_catalog.pg_attribute A
            where T.relnamespace = ?::oid
              and T.relkind in ('r', 'm', 'v', 'f', 'p')
              --  and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid))
              and A.attrelid = T.oid )
select T.table_id,
       C.attnum as column_position,
       C.attname as column_name,
       C.xmin as column_state_number,
       C.atttypmod as type_mod,
       C.attndims as dimensions_number,
       pg_catalog.format_type(C.atttypid, C.atttypmod) as type_spec,
       C.atttypid as type_id,
       C.attnotnull as mandatory,
       pg_catalog.pg_get_expr(D.adbin, T.table_id) /* D.adsrc */ as column_default_expression,
       not C.attislocal as column_is_inherited,
       C.attfdwoptions as options,
       C.attisdropped as column_is_dropped,
       C.attidentity /* null */ as identity_kind
from T
  inner join pg_catalog.pg_attribute C on T.table_id = C.attrelid
  left outer join pg_catalog.pg_attrdef D on (C.attrelid, C.attnum) = (D.adrelid, D.adnum)
where attnum > 0
order by table_id, attnum
-- ] --------------------------------------------------
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895385] results received
-- 2020-11-12 01:56:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895385] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895386] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    /* and pg_catalog.age(cls.xmin) <= pg_catalog.age(:tx::varchar::xid) */)
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895386] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895386] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895387] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
--  where pg_catalog.age(table_state_id) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(:tx::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895387] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895387] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895388] 
select R.ev_class as table_id,
       R.oid as rule_id,
       R.xmin as rule_state_number,
       R.rulename as rule_name,
       pg_catalog.translate(ev_type,'1234','SUID') as rule_event_code,
       R.ev_enabled as rule_fire_mode,
       R.is_instead as rule_is_instead
from pg_catalog.pg_rewrite R
where R.ev_class in (select oid
                     from pg_catalog.pg_class
                     where relnamespace = ?::oid)
  --  and pg_catalog.age(R.xmin) <= pg_catalog.age(:tx::varchar::xid)
  and R.rulename != '_RETURN'::name
order by R.ev_class::bigint, ev_type
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895388] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895388] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895389] 
select T.tgrelid as table_id,
       T.oid as trigger_id,
       T.xmin as trigger_state_number,
       T.tgname as trigger_name,
       T.tgfoid as function_id,
       T.tgtype & 31 as bits,
       T.tgdeferrable as is_deferrable,
       T.tginitdeferred as is_init_deferred,
       T.tgenabled as trigger_fire_mode,
       T.tgattr as columns,
       pg_catalog.pg_get_triggerdef(T.oid, true) as source_code
from pg_catalog.pg_trigger T
where T.tgrelid in (select oid
                    from pg_catalog.pg_class
                    where relnamespace = ?::oid)
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
  and not T.tgisinternal
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895389] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895389] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895390] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895390] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895390] finished - execution time: 6 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895391] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  --  and (pg_catalog.age(T.xmin) <= pg_catalog.age(:src_tx::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(:src_tx::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895391] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895391] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895392] 
with A as ( select oid as table_id, pg_catalog.upper(relkind) as table_kind
            from pg_catalog.pg_class
            where relnamespace = ?::oid
              and relkind in ('r', 'm', 'v', 'f', 'p') )
select table_kind,
       table_id,
       R.oid as rule_id,
       pg_catalog.pg_get_ruledef(R.oid, true) as source_text
from A join pg_catalog.pg_rewrite R
        on A.table_id = R.ev_class
where R.rulename != '_RETURN'::name
  --  and pg_catalog.age(R.xmin) <= pg_catalog.age(:src_tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895392] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895392] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895393] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:src_tx::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895393] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895393] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895394] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895394] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895394] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895395] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895395] results received
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005363] [statement id: 563895395] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- 2020-11-12 01:56:43 [testy2] [PsqlDatabase@localhost] [session id: 1116005363] disconnected
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [session id: 1116005364] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005364] [statement id: 563895396] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (2200)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (2200)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (2200)
*/
-- ] --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005364] [statement id: 563895396] results received
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005364] [statement id: 563895396] finished - execution time: 7 ms, fetching time: 8 ms, total result sets count: 1
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [session id: 1116005364] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895397] 
create table test.test_table2
(
	"test_column2.1" int,
	"test_column2.2" int
)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895397] finished - execution time: 4 ms
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [session id: 1116005365] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895398] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895398] results received
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895398] finished - execution time: 3 ms, fetching time: 15 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895399] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895399] results received
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895399] finished - execution time: 6 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895400] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895400] results received
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895400] finished - execution time: 5 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895401] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895401] results received
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895401] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:11 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895402] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895402] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895402] finished - execution time: 71 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895403] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895403] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895403] finished - execution time: 56 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895404] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895404] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895404] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895405] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895405] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895405] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895406] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895406] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895406] finished - execution time: 4 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895407] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895407] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895407] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895408] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895408] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895408] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895409] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895409] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895409] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895410] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895410] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895410] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895411] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895411] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895411] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895412] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895412] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895412] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895413] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895413] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895413] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895414] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895414] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895414] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895415] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895415] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895415] finished - execution time: 22 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895416] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895416] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895416] finished - execution time: 10 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895417] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895417] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895417] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895418] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895418] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895418] finished - execution time: 4 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895419] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895419] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895419] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895420] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895420] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895420] finished - execution time: 3 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895421] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895421] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895421] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895422] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895422] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895422] finished - execution time: 4 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895423] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895423] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895423] finished - execution time: 6 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895424] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895424] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895424] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895425] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895425] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895425] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895426] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895426] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895426] finished - execution time: 16 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895427] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895427] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895427] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895428] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895428] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895428] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895429] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895429] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895429] finished - execution time: 7 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895430] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895430] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895430] finished - execution time: 8 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895431] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895431] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895431] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895432] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895432] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895432] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895433] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895433] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895433] finished - execution time: 2 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895434] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895434] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895434] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895435] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895435] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895435] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895436] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895436] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895436] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895437] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895437] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895437] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895438] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  and pg_catalog.age(ft.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895438] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895438] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895439] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895439] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895439] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895440] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid)) ),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895440] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895440] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895441] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895441] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895441] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895442] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid) )
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895442] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895442] finished - execution time: 7 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895443] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895443] results received
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895443] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:12 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895444] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895444] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895444] finished - execution time: 998 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895445] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895445] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895445] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895446] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895446] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895446] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895447] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895447] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895447] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895448] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895448] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895448] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895449] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895449] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895449] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895450] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895450] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895450] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895451] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895451] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895451] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895452] 
with T as ( select distinct T.oid as table_id, T.relname as table_name
            from pg_catalog.pg_class T,
                 pg_catalog.pg_attribute A
            where T.relnamespace = ?::oid
              and T.relkind in ('r', 'm', 'v', 'f', 'p')
              and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid))
              and A.attrelid = T.oid )
select T.table_id,
       C.attnum as column_position,
       C.attname as column_name,
       C.xmin as column_state_number,
       C.atttypmod as type_mod,
       C.attndims as dimensions_number,
       pg_catalog.format_type(C.atttypid, C.atttypmod) as type_spec,
       C.atttypid as type_id,
       C.attnotnull as mandatory,
       pg_catalog.pg_get_expr(D.adbin, T.table_id) /* D.adsrc */ as column_default_expression,
       not C.attislocal as column_is_inherited,
       C.attfdwoptions as options,
       C.attisdropped as column_is_dropped,
       C.attidentity /* null */ as identity_kind
from T
  inner join pg_catalog.pg_attribute C on T.table_id = C.attrelid
  left outer join pg_catalog.pg_attrdef D on (C.attrelid, C.attnum) = (D.adrelid, D.adnum)
where attnum > 0
order by table_id, attnum
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895452] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895452] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895453] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895453] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895453] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895454] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid) )
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895454] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895454] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895455] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895455] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895455] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895456] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
where pg_catalog.age(table_state_id) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(?::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895456] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895456] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895457] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895457] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895457] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895458] 
select R.ev_class as table_id,
       R.oid as rule_id,
       R.xmin as rule_state_number,
       R.rulename as rule_name,
       pg_catalog.translate(ev_type,'1234','SUID') as rule_event_code,
       R.ev_enabled as rule_fire_mode,
       R.is_instead as rule_is_instead
from pg_catalog.pg_rewrite R
where R.ev_class in (select oid
                     from pg_catalog.pg_class
                     where relnamespace = ?::oid)
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
  and R.rulename != '_RETURN'::name
order by R.ev_class::bigint, ev_type
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895458] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895458] finished - execution time: 2 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895459] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895459] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895459] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895460] 
select T.tgrelid as table_id,
       T.oid as trigger_id,
       T.xmin as trigger_state_number,
       T.tgname as trigger_name,
       T.tgfoid as function_id,
       T.tgtype & 31 as bits,
       T.tgdeferrable as is_deferrable,
       T.tginitdeferred as is_init_deferred,
       T.tgenabled as trigger_fire_mode,
       T.tgattr as columns,
       pg_catalog.pg_get_triggerdef(T.oid, true) as source_code
from pg_catalog.pg_trigger T
where T.tgrelid in (select oid
                    from pg_catalog.pg_class
                    where relnamespace = ?::oid)
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and not T.tgisinternal
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895460] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895460] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895461] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895461] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895461] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895462] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895462] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895462] finished - execution time: 6 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895463] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895463] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895463] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895464] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  and (pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895464] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895464] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895465] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895465] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895465] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895466] 
with A as ( select oid as table_id, pg_catalog.upper(relkind) as table_kind
            from pg_catalog.pg_class
            where relnamespace = ?::oid
              and relkind in ('r', 'm', 'v', 'f', 'p') )
select table_kind,
       table_id,
       R.oid as rule_id,
       pg_catalog.pg_get_ruledef(R.oid, true) as source_text
from A join pg_catalog.pg_rewrite R
        on A.table_id = R.ev_class
where R.rulename != '_RETURN'::name
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895466] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895466] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895467] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895467] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895467] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895468] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895468] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895468] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895469] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895469] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895469] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895470] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895470] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895470] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895471] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
          and pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895471] results received
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005365] [statement id: 563895471] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 01:57:13 [testy2] [PsqlDatabase@localhost] [session id: 1116005365] disconnected
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [session id: 1116005366] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005366] [statement id: 563895472] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (24592)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (24592)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (24592)
*/
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005366] [statement id: 563895472] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005366] [statement id: 563895472] finished - execution time: 9 ms, fetching time: 7 ms, total result sets count: 1
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [session id: 1116005366] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895473] 
alter table test.test_table2 rename column "test_column2.1" to test_column2
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895473] finished - execution time: 2 ms
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [session id: 1116005367] connected
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895474] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895474] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895474] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895475] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895475] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895475] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895476] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895476] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895476] finished - execution time: 4 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895477] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895477] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895477] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895478] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895478] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895478] finished - execution time: 142 ms, fetching time: 21 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895479] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895479] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895479] finished - execution time: 5 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895480] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895480] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895480] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895481] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895481] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895481] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895482] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895482] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895482] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895483] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895483] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895483] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895484] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895484] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895484] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895485] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895485] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895485] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895486] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895486] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895486] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895487] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895487] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895487] finished - execution time: 8 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895488] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895488] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895488] finished - execution time: 7 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895489] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895489] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895489] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895490] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895490] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895490] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895491] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895491] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895491] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895492] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895492] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895492] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895493] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895493] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895493] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895494] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895494] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895494] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895495] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895495] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895495] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895496] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895496] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895496] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895497] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895497] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895497] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895498] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895498] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895498] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895499] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895499] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895499] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895500] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895500] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895500] finished - execution time: 7 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895501] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895501] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895501] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895502] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895502] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895502] finished - execution time: 29 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895503] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895503] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895503] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895504] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895504] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895504] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895505] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895505] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895505] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895506] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895506] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895506] finished - execution time: 13 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895507] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895507] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895507] finished - execution time: 2 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895508] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895508] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895508] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895509] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895509] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895509] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895510] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895510] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895510] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895511] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895511] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895511] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895512] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895512] results received
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895512] finished - execution time: 5 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:52 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895513] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895513] results received
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895513] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895514] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  and pg_catalog.age(ft.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895514] results received
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895514] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895515] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895515] results received
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895515] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895516] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid)) ),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895516] results received
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895516] finished - execution time: 5 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895517] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895517] results received
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895517] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895518] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid) )
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895518] results received
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895518] finished - execution time: 15 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895519] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895519] results received
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895519] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:53 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895520] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895520] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895520] finished - execution time: 1 s 9 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895521] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895521] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895521] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895522] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895522] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895522] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895523] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895523] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895523] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895524] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895524] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895524] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895525] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895525] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895525] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895526] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895526] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895526] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895527] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895527] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895527] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895528] 
with T as ( select distinct T.oid as table_id, T.relname as table_name
            from pg_catalog.pg_class T,
                 pg_catalog.pg_attribute A
            where T.relnamespace = ?::oid
              and T.relkind in ('r', 'm', 'v', 'f', 'p')
              and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid))
              and A.attrelid = T.oid )
select T.table_id,
       C.attnum as column_position,
       C.attname as column_name,
       C.xmin as column_state_number,
       C.atttypmod as type_mod,
       C.attndims as dimensions_number,
       pg_catalog.format_type(C.atttypid, C.atttypmod) as type_spec,
       C.atttypid as type_id,
       C.attnotnull as mandatory,
       pg_catalog.pg_get_expr(D.adbin, T.table_id) /* D.adsrc */ as column_default_expression,
       not C.attislocal as column_is_inherited,
       C.attfdwoptions as options,
       C.attisdropped as column_is_dropped,
       C.attidentity /* null */ as identity_kind
from T
  inner join pg_catalog.pg_attribute C on T.table_id = C.attrelid
  left outer join pg_catalog.pg_attrdef D on (C.attrelid, C.attnum) = (D.adrelid, D.adnum)
where attnum > 0
order by table_id, attnum
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895528] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895528] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895529] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895529] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895529] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895530] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid) )
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895530] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895530] finished - execution time: 7 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895531] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895531] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895531] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895532] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
where pg_catalog.age(table_state_id) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(?::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895532] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895532] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895533] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895533] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895533] finished - execution time: 13 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895534] 
select R.ev_class as table_id,
       R.oid as rule_id,
       R.xmin as rule_state_number,
       R.rulename as rule_name,
       pg_catalog.translate(ev_type,'1234','SUID') as rule_event_code,
       R.ev_enabled as rule_fire_mode,
       R.is_instead as rule_is_instead
from pg_catalog.pg_rewrite R
where R.ev_class in (select oid
                     from pg_catalog.pg_class
                     where relnamespace = ?::oid)
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
  and R.rulename != '_RETURN'::name
order by R.ev_class::bigint, ev_type
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895534] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895534] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895535] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895535] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895535] finished - execution time: 1 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895536] 
select T.tgrelid as table_id,
       T.oid as trigger_id,
       T.xmin as trigger_state_number,
       T.tgname as trigger_name,
       T.tgfoid as function_id,
       T.tgtype & 31 as bits,
       T.tgdeferrable as is_deferrable,
       T.tginitdeferred as is_init_deferred,
       T.tgenabled as trigger_fire_mode,
       T.tgattr as columns,
       pg_catalog.pg_get_triggerdef(T.oid, true) as source_code
from pg_catalog.pg_trigger T
where T.tgrelid in (select oid
                    from pg_catalog.pg_class
                    where relnamespace = ?::oid)
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and not T.tgisinternal
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895536] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895536] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895537] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895537] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895537] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895538] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895538] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895538] finished - execution time: 8 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895539] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895539] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895539] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895540] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  and (pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895540] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895540] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895541] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895541] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895541] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895542] 
with A as ( select oid as table_id, pg_catalog.upper(relkind) as table_kind
            from pg_catalog.pg_class
            where relnamespace = ?::oid
              and relkind in ('r', 'm', 'v', 'f', 'p') )
select table_kind,
       table_id,
       R.oid as rule_id,
       pg_catalog.pg_get_ruledef(R.oid, true) as source_text
from A join pg_catalog.pg_rewrite R
        on A.table_id = R.ev_class
where R.rulename != '_RETURN'::name
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895542] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895542] finished - execution time: 7 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895543] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895543] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895543] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895544] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895544] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895544] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895545] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895545] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895545] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895546] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895546] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895546] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895547] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
          and pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895547] results received
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005367] [statement id: 563895547] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- 2020-11-12 01:59:54 [testy2] [PsqlDatabase@localhost] [session id: 1116005367] disconnected
-- 2020-11-12 02:00:01 [testy2] [PsqlDatabase@localhost] [session id: 1116005368] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:01 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005368] [statement id: 563895548] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (24592)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (24592)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (24592)
*/
-- ] --------------------------------------------------
-- 2020-11-12 02:00:01 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005368] [statement id: 563895548] results received
-- 2020-11-12 02:00:01 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005368] [statement id: 563895548] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- 2020-11-12 02:00:01 [testy2] [PsqlDatabase@localhost] [session id: 1116005368] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:01 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895549] 
alter table test.test_table2 rename column "test_column2.2" to test_column2
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895549] error - [42701] ERROR: column "test_column2" of relation "test_table2" already exists
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895549] finished - execution time: 43 ms
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [session id: 1116005369] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895550] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895550] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895550] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895551] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895551] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895551] finished - execution time: 5 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895552] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895552] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895552] finished - execution time: 4 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895553] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895553] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895553] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895554] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895554] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895554] finished - execution time: 156 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895555] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895555] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895555] finished - execution time: 7 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895556] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895556] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895556] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895557] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895557] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895557] finished - execution time: 9 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895558] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895558] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895558] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895559] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895559] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895559] finished - execution time: 7 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895560] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895560] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895560] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895561] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895561] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895561] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895562] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895562] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895562] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895563] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895563] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895563] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895564] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895564] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895564] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895565] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895565] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895565] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895566] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895566] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895566] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895567] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895567] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895567] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895568] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895568] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895568] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895569] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895569] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895569] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895570] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895570] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895570] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895571] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895571] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895571] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895572] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895572] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895572] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895573] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895573] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895573] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895574] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895574] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895574] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895575] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895575] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895575] finished - execution time: 6 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895576] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895576] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895576] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895577] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895577] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895577] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895578] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895578] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895578] finished - execution time: 9 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895579] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895579] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895579] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895580] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895580] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895580] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895581] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895581] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895581] finished - execution time: 7 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895582] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895582] results received
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005369] [statement id: 563895582] finished - execution time: 7 ms, fetching time: 3 ms, total result sets count: 1
-- 2020-11-12 02:00:02 [testy2] [PsqlDatabase@localhost] [session id: 1116005369] disconnected
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [session id: 1116005370] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005370] [statement id: 563895583] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (24592)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (24592)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (24592)
*/
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005370] [statement id: 563895583] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005370] [statement id: 563895583] finished - execution time: 11 ms, fetching time: 6 ms, total result sets count: 1
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [session id: 1116005370] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895584] 
alter table test.test_table2 rename column "test_column2.2" to test_column2
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895584] error - [42701] ERROR: column "test_column2" of relation "test_table2" already exists
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895584] finished - execution time: 3 ms
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [session id: 1116005371] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895585] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895585] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895585] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895586] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895586] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895586] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895587] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895587] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895587] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895588] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895588] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895588] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895589] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895589] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895589] finished - execution time: 67 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895590] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895590] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895590] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895591] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895591] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895591] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895592] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895592] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895592] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895593] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895593] results received
-- 2020-11-12 02:00:15 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895593] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895594] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895594] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895594] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895595] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895595] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895595] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895596] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895596] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895596] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895597] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895597] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895597] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895598] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895598] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895598] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895599] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895599] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895599] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895600] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895600] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895600] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895601] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895601] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895601] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895602] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895602] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895602] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895603] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895603] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895603] finished - execution time: 3 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895604] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895604] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895604] finished - execution time: 7 ms, fetching time: 83 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895605] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895605] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895605] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895606] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895606] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895606] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895607] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895607] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895607] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895608] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895608] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895608] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895609] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895609] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895609] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895610] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895610] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895610] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895611] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895611] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895611] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895612] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895612] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895612] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895613] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895613] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895613] finished - execution time: 12 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895614] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895614] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895614] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895615] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895615] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895615] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895616] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895616] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895616] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895617] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895617] results received
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005371] [statement id: 563895617] finished - execution time: 5 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:00:16 [testy2] [PsqlDatabase@localhost] [session id: 1116005371] disconnected
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [session id: 1116005372] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895618] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895618] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895618] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895619] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895619] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895619] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895620] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895620] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895620] finished - execution time: 12 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895621] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895621] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895621] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895622] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895622] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895622] finished - execution time: 52 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895623] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895623] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895623] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895624] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895624] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895624] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895625] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895625] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895625] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895626] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895626] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895626] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895627] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895627] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895627] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895628] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895628] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895628] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895629] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895629] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895629] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895630] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895630] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895630] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895631] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895631] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895631] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895632] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895632] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895632] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895633] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895633] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895633] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895634] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895634] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895634] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895635] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895635] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895635] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895636] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895636] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895636] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895637] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895637] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895637] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895638] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895638] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895638] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895639] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895639] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895639] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895640] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895640] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895640] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895641] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895641] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895641] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895642] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895642] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895642] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895643] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895643] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895643] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895644] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895644] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895644] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895645] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895645] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895645] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895646] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895646] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895646] finished - execution time: 7 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895647] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895647] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895647] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895648] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895648] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895648] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895649] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895649] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895649] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895650] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895650] results received
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005372] [statement id: 563895650] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:00:20 [testy2] [PsqlDatabase@localhost] [session id: 1116005372] disconnected
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [session id: 1116005373] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895651] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895651] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895651] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895652] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895652] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895652] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895653] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895653] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895653] finished - execution time: 3 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895654] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895654] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895654] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895655] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895655] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895655] finished - execution time: 58 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895656] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895656] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895656] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895657] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895657] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895657] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895658] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895658] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895658] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895659] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895659] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895659] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895660] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895660] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895660] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895661] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895661] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895661] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895662] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895662] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895662] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895663] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895663] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895663] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895664] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895664] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895664] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895665] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895665] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895665] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895666] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895666] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895666] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895667] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895667] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895667] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895668] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895668] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895668] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895669] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895669] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895669] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895670] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895670] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895670] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895671] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895671] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895671] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895672] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895672] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895672] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895673] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895673] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895673] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895674] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895674] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895674] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895675] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895675] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895675] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895676] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895676] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895676] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895677] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895677] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895677] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895678] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895678] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895678] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895679] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895679] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895679] finished - execution time: 6 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895680] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895680] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895680] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895681] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895681] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895681] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895682] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895682] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895682] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895683] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895683] results received
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005373] [statement id: 563895683] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:00:25 [testy2] [PsqlDatabase@localhost] [session id: 1116005373] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895684] 
alter table test.test_table2
    drop column "test_column2.2"
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895684] finished - execution time: 4 ms
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [session id: 1116005374] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895685] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895685] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895685] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895686] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895686] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895686] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895687] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895687] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895687] finished - execution time: 3 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895688] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895688] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895688] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895689] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895689] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895689] finished - execution time: 60 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895690] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895690] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895690] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895691] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895691] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895691] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895692] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895692] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895692] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895693] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895693] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895693] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895694] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895694] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895694] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895695] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895695] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895695] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895696] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895696] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895696] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895697] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895697] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895697] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895698] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895698] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895698] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895699] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895699] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895699] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895700] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895700] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895700] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895701] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895701] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895701] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895702] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895702] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895702] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895703] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895703] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895703] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895704] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895704] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895704] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895705] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895705] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895705] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895706] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895706] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895706] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895707] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895707] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895707] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895708] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895708] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895708] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895709] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895709] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895709] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895710] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895710] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895710] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895711] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895711] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895711] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895712] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895712] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895712] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895713] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895713] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895713] finished - execution time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895714] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895714] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895714] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895715] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895715] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895715] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895716] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895716] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895716] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895717] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895717] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895717] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895718] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895718] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895718] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895719] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895719] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895719] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895720] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895720] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895720] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895721] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895721] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895721] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895722] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895722] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895722] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895723] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895723] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895723] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895724] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895724] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895724] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895725] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  and pg_catalog.age(ft.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895725] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895725] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895726] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895726] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895726] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895727] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid)) ),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895727] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895727] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895728] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895728] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895728] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895729] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid) )
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895729] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895729] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895730] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895730] results received
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895730] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:28 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895731] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895731] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895731] finished - execution time: 1 s 9 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895732] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895732] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895732] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895733] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895733] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895733] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895734] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895734] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895734] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895735] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895735] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895735] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895736] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895736] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895736] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895737] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895737] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895737] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895738] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895738] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895738] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895739] 
with T as ( select distinct T.oid as table_id, T.relname as table_name
            from pg_catalog.pg_class T,
                 pg_catalog.pg_attribute A
            where T.relnamespace = ?::oid
              and T.relkind in ('r', 'm', 'v', 'f', 'p')
              and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid))
              and A.attrelid = T.oid )
select T.table_id,
       C.attnum as column_position,
       C.attname as column_name,
       C.xmin as column_state_number,
       C.atttypmod as type_mod,
       C.attndims as dimensions_number,
       pg_catalog.format_type(C.atttypid, C.atttypmod) as type_spec,
       C.atttypid as type_id,
       C.attnotnull as mandatory,
       pg_catalog.pg_get_expr(D.adbin, T.table_id) /* D.adsrc */ as column_default_expression,
       not C.attislocal as column_is_inherited,
       C.attfdwoptions as options,
       C.attisdropped as column_is_dropped,
       C.attidentity /* null */ as identity_kind
from T
  inner join pg_catalog.pg_attribute C on T.table_id = C.attrelid
  left outer join pg_catalog.pg_attrdef D on (C.attrelid, C.attnum) = (D.adrelid, D.adnum)
where attnum > 0
order by table_id, attnum
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895739] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895739] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895740] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895740] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895740] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895741] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid) )
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895741] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895741] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895742] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895742] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895742] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895743] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
where pg_catalog.age(table_state_id) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(?::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895743] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895743] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895744] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895744] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895744] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895745] 
select R.ev_class as table_id,
       R.oid as rule_id,
       R.xmin as rule_state_number,
       R.rulename as rule_name,
       pg_catalog.translate(ev_type,'1234','SUID') as rule_event_code,
       R.ev_enabled as rule_fire_mode,
       R.is_instead as rule_is_instead
from pg_catalog.pg_rewrite R
where R.ev_class in (select oid
                     from pg_catalog.pg_class
                     where relnamespace = ?::oid)
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
  and R.rulename != '_RETURN'::name
order by R.ev_class::bigint, ev_type
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895745] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895745] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895746] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895746] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895746] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895747] 
select T.tgrelid as table_id,
       T.oid as trigger_id,
       T.xmin as trigger_state_number,
       T.tgname as trigger_name,
       T.tgfoid as function_id,
       T.tgtype & 31 as bits,
       T.tgdeferrable as is_deferrable,
       T.tginitdeferred as is_init_deferred,
       T.tgenabled as trigger_fire_mode,
       T.tgattr as columns,
       pg_catalog.pg_get_triggerdef(T.oid, true) as source_code
from pg_catalog.pg_trigger T
where T.tgrelid in (select oid
                    from pg_catalog.pg_class
                    where relnamespace = ?::oid)
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and not T.tgisinternal
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895747] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895747] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895748] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895748] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895748] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895749] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895749] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895749] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895750] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895750] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895750] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895751] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  and (pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895751] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895751] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895752] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895752] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895752] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895753] 
with A as ( select oid as table_id, pg_catalog.upper(relkind) as table_kind
            from pg_catalog.pg_class
            where relnamespace = ?::oid
              and relkind in ('r', 'm', 'v', 'f', 'p') )
select table_kind,
       table_id,
       R.oid as rule_id,
       pg_catalog.pg_get_ruledef(R.oid, true) as source_text
from A join pg_catalog.pg_rewrite R
        on A.table_id = R.ev_class
where R.rulename != '_RETURN'::name
  and pg_catalog.age(R.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895753] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895753] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895754] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895754] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895754] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895755] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895755] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895755] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895756] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895756] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895756] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895757] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895757] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895757] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895758] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
          and pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895758] results received
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005374] [statement id: 563895758] finished - execution time: 1 ms, total result sets count: 1
-- 2020-11-12 02:00:29 [testy2] [PsqlDatabase@localhost] [session id: 1116005374] disconnected
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [session id: 1116005375] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895759] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895759] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895759] finished - execution time: 4 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895760] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895760] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895760] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895761] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895761] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895761] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895762] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895762] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895762] finished - execution time: 20 ms, fetching time: 34 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895763] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895763] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895763] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895764] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895764] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895764] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895765] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895765] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895765] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895766] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895766] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895766] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895767] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895767] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895767] finished - execution time: 4 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895768] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895768] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895768] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895769] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895769] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895769] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895770] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895770] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895770] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895771] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895771] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895771] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895772] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895772] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895772] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895773] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895773] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895773] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895774] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895774] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895774] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895775] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895775] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895775] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895776] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895776] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895776] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895777] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895777] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895777] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895778] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895778] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895778] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895779] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895779] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895779] finished - execution time: 9 ms, fetching time: 19 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895780] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895780] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895780] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895781] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895781] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895781] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895782] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895782] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895782] finished - execution time: 6 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895783] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895783] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895783] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895784] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895784] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895784] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895785] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895785] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895785] finished - execution time: 5 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895786] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895786] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895786] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895787] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895787] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895787] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895788] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895788] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895788] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895789] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895789] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895789] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895790] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895790] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895790] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895791] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895791] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895791] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895792] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895792] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895792] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895793] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895793] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895793] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895794] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895794] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895794] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895795] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895795] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895795] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895796] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895796] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895796] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895797] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895797] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895797] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895798] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895798] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895798] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895799] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895799] results received
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005375] [statement id: 563895799] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:00:59 [testy2] [MySQL1@localhost] [session id: 1116005375] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895800] 
drop table test_table1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895800] finished - execution time: 22 ms
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [session id: 1116005376] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895801] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895801] results received
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895801] finished - execution time: 3 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895802] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895802] results received
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895802] finished - execution time: 4 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895803] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895803] results received
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895803] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895804] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895804] results received
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895804] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895805] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895805] results received
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895805] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895806] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895806] results received
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895806] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895807] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895807] results received
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895807] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895808] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 02:12:14 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895808] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895808] finished - execution time: 5 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895809] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895809] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895809] finished - execution time: 11 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895810] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895810] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895810] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895811] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895811] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895811] finished - execution time: 2 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895812] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895812] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895812] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895813] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895813] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895813] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895814] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895814] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895814] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895815] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895815] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895815] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895816] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895816] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895816] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895817] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895817] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895817] finished - execution time: 5 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895818] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895818] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895818] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895819] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895819] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895819] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895820] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895820] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895820] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895821] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895821] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895821] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895822] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895822] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895822] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895823] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895823] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895823] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895824] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895824] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895824] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895825] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895825] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895825] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895826] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895826] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895826] finished - execution time: 7 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895827] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895827] results received
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005376] [statement id: 563895827] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:12:15 [testy2] [MySQL1@localhost] [session id: 1116005376] disconnected
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [session id: 1116005377] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895828] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895828] results received
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895828] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895829] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895829] results received
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895829] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895830] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895830] results received
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895830] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895831] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895831] results received
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895831] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895832] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895832] results received
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895832] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:25 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895833] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895833] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895833] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895834] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895834] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895834] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895835] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895835] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895835] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895836] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895836] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895836] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895837] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895837] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895837] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895838] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895838] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895838] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895839] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895839] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895839] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895840] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895840] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895840] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895841] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895841] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895841] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895842] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895842] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895842] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895843] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895843] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895843] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895844] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895844] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895844] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895845] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895845] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895845] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895846] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895846] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895846] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895847] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895847] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895847] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895848] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895848] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895848] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895849] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895849] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895849] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895850] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895850] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895850] finished - execution time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895851] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895851] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895851] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895852] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895852] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895852] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895853] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895853] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895853] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895854] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895854] results received
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005377] [statement id: 563895854] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:12:26 [testy2] [MySQL1@localhost] [session id: 1116005377] disconnected
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005378] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005378] [statement id: 563895855] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (24589)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (24589)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (24589)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (24589)
*/
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005378] [statement id: 563895855] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005378] [statement id: 563895855] finished - execution time: 6 ms, fetching time: 6 ms, total result sets count: 1
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005378] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895856] 
drop table test.test_table1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895856] finished - execution time: 15 ms
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005379] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895857] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895857] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895857] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895858] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895858] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895858] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895859] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895859] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895859] finished - execution time: 2 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895860] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895860] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895860] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895861] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895861] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895861] finished - execution time: 51 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895862] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895862] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895862] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895863] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895863] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895863] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895864] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895864] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895864] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895865] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895865] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895865] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895866] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895866] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895866] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895867] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895867] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895867] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895868] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895868] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895868] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895869] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895869] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895869] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895870] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895870] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895870] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895871] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895871] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895871] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895872] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895872] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895872] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895873] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895873] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895873] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895874] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895874] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895874] finished - execution time: 1 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895875] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895875] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895875] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895876] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895876] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895876] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895877] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895877] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895877] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895878] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895878] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895878] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895879] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895879] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895879] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895880] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895880] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895880] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895881] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895881] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895881] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895882] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895882] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895882] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895883] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895883] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895883] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895884] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895884] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895884] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895885] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895885] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895885] finished - execution time: 12 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895886] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895886] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895886] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895887] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895887] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895887] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895888] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895888] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895888] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895889] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895889] results received
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005379] [statement id: 563895889] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- 2020-11-12 02:12:40 [testy2] [PsqlDatabase@localhost] [session id: 1116005379] disconnected
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [session id: 1116005380] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005380] [statement id: 563895890] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (24592)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (24592)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (24592)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (24592)
*/
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005380] [statement id: 563895890] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005380] [statement id: 563895890] finished - execution time: 6 ms, fetching time: 6 ms, total result sets count: 1
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [session id: 1116005380] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895891] 
drop table test.test_table2
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563895891] finished - execution time: 3 ms
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [session id: 1116005381] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895892] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895892] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895892] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895893] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895893] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895893] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895894] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895894] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895894] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895895] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895895] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895895] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895896] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895896] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895896] finished - execution time: 56 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895897] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895897] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895897] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895898] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895898] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895898] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895899] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895899] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895899] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895900] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895900] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895900] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895901] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895901] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895901] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895902] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895902] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895902] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895903] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895903] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895903] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895904] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895904] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895904] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895905] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895905] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895905] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895906] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895906] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895906] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895907] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895907] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895907] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895908] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895908] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895908] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895909] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895909] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895909] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895910] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895910] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895910] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895911] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895911] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895911] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895912] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895912] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895912] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895913] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895913] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895913] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895914] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895914] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895914] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895915] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895915] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895915] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895916] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895916] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895916] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895917] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895917] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895917] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895918] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895918] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895918] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895919] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895919] results received
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895919] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:42 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895920] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895920] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895920] finished - execution time: 11 ms, fetching time: 189 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895921] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895921] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895921] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895922] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895922] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895922] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895923] 
select distinct oid
from pg_catalog.pg_type
where typnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_class
where relnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_proc
where pronamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_operator
where oprnamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_constraint
where connamespace = ?::oid
union
select distinct oid
from pg_catalog.pg_collation
where collnamespace = ?::oid
union

select distinct IX.indexrelid
from pg_catalog.pg_index IX,
     pg_catalog.pg_class IC
where IC.oid = IX.indrelid
  and IC.relnamespace = ?::oid
union
select distinct RU.oid
from pg_catalog.pg_rewrite RU,
     pg_catalog.pg_class RC
where RC.oid = RU.ev_class
  and RC.relnamespace = ?::oid
  and not RU.rulename = '_RETURN'
union
select distinct TG.oid
from pg_catalog.pg_trigger TG,
     pg_catalog.pg_class TC
where TC.oid = TG.tgrelid
  and TC.relnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895923] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895923] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895924] 
select D.objoid id, pg_catalog.array_agg(D.objsubid) sub_ids
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
group by D.objoid
union all
select T.oid id, pg_catalog.array_agg(D.objsubid)
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
group by T.oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
union all
select D.objoid id, array[D.objsubid]
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895924] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895924] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895925] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895925] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895925] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895926] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895926] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895926] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895927] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895927] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895927] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895928] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895928] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895928] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895929] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895929] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895929] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895930] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895930] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895930] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895931] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895931] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895931] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895932] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  and pg_catalog.age(ft.xmin) <= pg_catalog.age(?::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895932] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895932] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895933] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895933] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895933] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895934] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)  ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid)) ),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895934] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895934] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895935] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895935] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895935] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895936] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid) )
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895936] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895936] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895937] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895937] results received
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895937] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:43 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895938] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
and (pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(?::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895938] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895938] finished - execution time: 1 s 51 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895939] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895939] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895939] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895940] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895940] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895940] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895941] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895941] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895941] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895942] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895942] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895942] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895943] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895943] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895943] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895944] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895944] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895944] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895945] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895945] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895945] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895946] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895946] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895946] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895947] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    and pg_catalog.age(cls.xmin) <= pg_catalog.age(?::varchar::xid) )
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895947] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895947] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895948] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895948] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895948] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895949] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
where pg_catalog.age(table_state_id) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(?::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895949] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895949] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895950] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895950] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895950] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895951] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895951] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895951] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895952] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895952] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895952] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895953] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895953] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895953] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895954] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895954] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895954] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895955] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  and (pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895955] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895955] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895956] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895956] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895956] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895957] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895957] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895957] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895958] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  and pg_catalog.age(xmin) <= pg_catalog.age(?::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895958] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895958] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895959] 
select pg_catalog.age(?::varchar::xid) as schema_age, pg_catalog.age(?::varchar::xid) as sources_age
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895959] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895959] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895960] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
            and pg_catalog.age(T.xmin) <= pg_catalog.age(?::varchar::xid)
          order by object_id
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895960] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895960] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895961] 
select T.oid as object_id,
               A.attnum as attr_position,
               unnest(A.attacl) as aclitem
        from pg_catalog.pg_attribute A join pg_catalog.pg_class T on T.oid = A.attrelid
        where relnamespace = ?::oid
          and attnum > 0 
          and pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
        order by object_id, attr_position
-- ] --------------------------------------------------
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895961] results received
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005381] [statement id: 563895961] finished - execution time: 1 ms, total result sets count: 1
-- 2020-11-12 02:12:44 [testy2] [PsqlDatabase@localhost] [session id: 1116005381] disconnected
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [session id: 1116005382] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895962] 
use test
-- ] --------------------------------------------------
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895962] finished - execution time: 1 ms
-- [ --------------------------------------------------
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895963] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895963] results received
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895963] finished - execution time: 2 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895964] 
SELECT t.*
FROM test.test_table1 t
LIMIT 501
-- ] --------------------------------------------------
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895964] results received
-- 2020-11-12 02:12:47 [testy2] [MySQL1@localhost] [data editor: test_table1 [MySQL1@localhost]] [session id: 1116005382] [statement id: 563895964] finished - execution time: 2 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895965] 
drop table test_table1
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895965] finished - execution time: 42 ms
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [session id: 1116005383] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895966] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895966] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895966] finished - execution time: 1 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895967] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895967] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895967] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895968] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895968] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895968] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895969] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895969] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895969] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895970] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895970] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895970] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895971] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895971] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895971] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895972] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895972] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895972] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895973] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895973] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895973] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895974] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895974] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895974] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895975] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895975] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895975] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895976] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895976] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895976] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895977] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895977] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895977] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895978] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895978] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895978] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895979] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895979] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895979] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895980] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895980] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895980] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895981] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895981] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895981] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895982] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895982] results received
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895982] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:50 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895983] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895983] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895983] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895984] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895984] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895984] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895985] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895985] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895985] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895986] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895986] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895986] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895987] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895987] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895987] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895988] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895988] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895988] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895989] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895989] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895989] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895990] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895990] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895990] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895991] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895991] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895991] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895992] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895992] results received
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005383] [statement id: 563895992] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [session id: 1116005383] disconnected
-- 2020-11-12 02:12:51 [testy2] [MySQL1@localhost] [session id: 1116005382] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895993] 
drop table test_table2
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [refactoring] [session id: 1116005359] [statement id: 563895993] finished - execution time: 32 ms
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [session id: 1116005384] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895994] 
select database()
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895994] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895994] finished - execution time: 2 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895995] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895995] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895995] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895996] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895996] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895996] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895997] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895997] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895997] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895998] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895998] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895998] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895999] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895999] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563895999] finished - execution time: 4 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896000] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896000] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896000] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896001] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896001] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896001] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896002] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896002] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896002] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896003] 
select grantee from information_schema.user_privileges group by grantee
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896003] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896003] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896004] 
show grants for 'debian-sys-maint'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896004] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896004] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896005] 
show grants for 'mysql.infoschema'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896005] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896005] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896006] 
show grants for 'mysql.session'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896006] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896006] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896007] 
show grants for 'mysql.sys'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896007] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896007] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896008] 
show grants for 'root'@'localhost'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896008] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896008] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896009] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896009] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896009] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896010] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896010] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896010] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896011] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896011] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896011] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896012] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896012] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896012] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896013] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation,
          expression
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896013] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896013] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896014] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896014] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896014] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896015] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896015] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896015] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896016] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896016] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896016] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896017] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896017] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896017] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896018] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896018] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896018] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896019] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896019] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896019] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896020] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896020] results received
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [introspection] [session id: 1116005384] [statement id: 563896020] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- 2020-11-12 02:12:53 [testy2] [MySQL1@localhost] [session id: 1116005384] disconnected
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [session id: 1116005385] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005385] [statement id: 563896021] 
select distinct oid, xmin
from pg_catalog.pg_namespace
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_type
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_class
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_proc
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_operator
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_constraint
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_collation
where oid in (2200)
union

select distinct oid, xmin
from pg_catalog.pg_rewrite
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_trigger
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_am
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_data_wrapper
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_foreign_server
where oid in (2200)
union
select distinct oid, xmin
from pg_catalog.pg_extension
where oid in (2200)

/* union
select distinct oid, xmin
from pg_catalog.pg_user_mapping
where oid in (2200)
*/
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005385] [statement id: 563896021] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005385] [statement id: 563896021] finished - execution time: 5 ms, fetching time: 6 ms, total result sets count: 1
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [session id: 1116005385] disconnected
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563896022] 
create table test.table_name
(
	column_1 int,
	column_2 int,
	column_3 int,
	column_4 int
)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [refactoring] [session id: 1116005362] [statement id: 563896022] finished - execution time: 17 ms
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [session id: 1116005386] connected
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896023] 
select round(extract(epoch from pg_postmaster_start_time() at time zone 'UTC')) as startup_time
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896023] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896023] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896024] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896024] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896024] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896025] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896025] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896025] finished - execution time: 3 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896026] 
show DateStyle
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896026] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896026] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896027] 
select name, is_dst from pg_catalog.pg_timezone_names
union distinct
select abbrev as name, is_dst from pg_catalog.pg_timezone_abbrevs
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896027] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896027] finished - execution time: 80 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896028] 
select R.oid::bigint as role_id, rolname as role_name,
  rolsuper is_super, rolinherit is_inherit,
  rolcreaterole can_createrole, rolcreatedb can_createdb,
  rolcanlogin can_login, rolreplication /* false */ is_replication,
  rolconnlimit conn_limit, rolvaliduntil valid_until,
  rolbypassrls /* false */ bypass_rls, rolconfig config,
  D.description
from pg_catalog.pg_roles R
  left join pg_catalog.pg_shdescription D on D.objoid = R.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896028] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896028] finished - execution time: 1 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896029] 
select N.oid::bigint as id,
       datname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.datdba) as "owner"
from pg_catalog.pg_database N
  left join pg_catalog.pg_shdescription D on N.oid = D.objoid
where not datistemplate
order by case when datname = pg_catalog.current_database() then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896029] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896029] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896030] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896030] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896030] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896031] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896031] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896031] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896032] 
select N.oid::bigint as id,
       N.xmin as state_number,
       nspname as name,
       D.description,
       pg_catalog.pg_get_userbyid(N.nspowner) as "owner"
from pg_catalog.pg_namespace N
  left join pg_catalog.pg_description D on N.oid = D.objoid
/* */where N.nspname not like 'pg_toast%' and N.nspname not like 'pg_temp%' 
order by case when nspname = current_schema then -1::bigint else N.oid::bigint end
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896032] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896032] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896033] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896033] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896033] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896034] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896034] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896034] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896035] 
select usesuper
from pg_user
where usename = current_user
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896035] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896035] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896036] 
select lanname
from pg_catalog.pg_language
order by lanname
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896036] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896036] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896037] 
select distinct oid
from pg_catalog.pg_am
union
select distinct oid
from pg_catalog.pg_foreign_data_wrapper
union
select distinct oid
from pg_catalog.pg_foreign_server
union
select distinct oid
from pg_catalog.pg_extension

union
select distinct oid
from pg_catalog.pg_user_mapping

-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896037] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896037] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896038] 
select D.objoid id
from pg_catalog.pg_description D
where D.classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896038] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896038] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896039] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896039] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896039] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896040] 
select A.oid as access_method_id,
       A.xmin as state_number,
       A.amname as access_method_name
       ,
       A.amhandler::oid as handler_id,
       pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as handler_name,
       A.amtype as access_method_type
       
from pg_am A
  join pg_proc P on A.amhandler::oid = P.oid
  join pg_namespace N on P.pronamespace = N.oid
  
where pg_catalog.age(A.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896040] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896040] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896041] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896041] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896041] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896042] 
select fdw.oid as id,
       fdw.xmin as state_number,
       fdw.fdwname as name,
       pr.proname as handler,
       nspc.nspname as handler_schema,
       pr2.proname as validator,
       nspc2.nspname as validator_schema,
       fdw.fdwoptions as options,
       pg_catalog.pg_get_userbyid(fdw.fdwowner) as "owner"
from pg_catalog.pg_foreign_data_wrapper fdw
     left outer join pg_catalog.pg_proc pr on fdw.fdwhandler = pr.oid
     left outer join pg_catalog.pg_namespace nspc on pr.pronamespace = nspc.oid
     left outer join pg_catalog.pg_proc pr2 on fdw.fdwvalidator = pr2.oid
     left outer join pg_catalog.pg_namespace nspc2 on pr2.pronamespace = nspc2.oid
  where pg_catalog.age(fdw.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896042] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896042] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896043] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896043] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896043] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896044] 
select srv.oid as id,
       srv.srvfdw as fdw_id,
       srv.xmin as state_number,
       srv.srvname as name,
       srv.srvtype as type,
       srv.srvversion as version,
       srv.srvoptions as options,
       pg_catalog.pg_get_userbyid(srv.srvowner) as "owner"
from pg_catalog.pg_foreign_server srv
  where pg_catalog.age(srv.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896044] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896044] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896045] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896045] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896045] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896046] 
select pg_extension.oid as id,
       pg_extension.xmin as state_number,
       extname as name,
       extversion as version,
       extnamespace as schema_id,
       nspname as schema_name,
       array(select target
             from pg_extension_update_paths(extname)
             where source = extversion and path is not null) as available_updates
from pg_catalog.pg_extension
  join pg_namespace on pg_extension.extnamespace = pg_namespace.oid
where pg_catalog.age(pg_extension.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896046] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896046] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896047] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896047] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896047] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896048] 
select D.objoid id, case
    when 'pg_catalog.pg_am'::regclass = classoid then 'A'
    when 'pg_catalog.pg_foreign_data_wrapper'::regclass = classoid then 'W'
    when 'pg_catalog.pg_foreign_server'::regclass = classoid then 'S'
    when 'pg_catalog.pg_extension'::regclass = classoid then 'E'
    
  end as kind,
  D.objsubid sub_id, D.description
from pg_catalog.pg_description D
where classoid in (
  'pg_catalog.pg_am'::regclass,
  'pg_catalog.pg_foreign_data_wrapper'::regclass,
  'pg_catalog.pg_foreign_server'::regclass
  ,
  'pg_catalog.pg_extension'::regclass
  
)
and pg_catalog.age(D.xmin) <= pg_catalog.age(?::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896048] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896048] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896049] 
select pg_catalog.age(?::varchar::xid) as database_age
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896049] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896049] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896050] 
select 'sequence' as dependent_kind,
       'table' as owner_kind,
       D.objid as dependent_id,
       D.refobjid as owner_id,
       D.refobjsubid as owner_subobject_id
from pg_depend D
  join pg_class C_SEQ on D.objid = C_SEQ.oid
  join pg_class C_TAB on D.refobjid = C_TAB.oid
where C_SEQ.relkind = 'S'
  and C_TAB.relkind = 'r'
  and D.refobjsubid <> 0
  and (D.deptype = 'a' or D.deptype = 'i')
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896050] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896050] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896051] 
with saved_age as (select greatest(pg_catalog.age(?::varchar::xid), pg_catalog.age(?::varchar::xid)) as "value")
select pg_catalog.age(C.last_tx) <= (case when SA."value" < 0 then 2147483647 else SA."value" end) as has_changes from
(
  select X.last_tx as last_tx
  from (
    (
    select xmin as last_tx
      from pg_catalog.pg_type
      where typnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_class
      where relnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_proc
      where pronamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_operator
      where oprnamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select A.xmin as last_tx
      from pg_catalog.pg_attribute A join pg_catalog.pg_class K on K.oid = A.attrelid
      where K.relnamespace = ?::oid
      order by pg_catalog.age(A.xmin)
      limit 1
    )
    union all
    (
    select E.xmin as last_tx
      from pg_catalog.pg_enum E join pg_catalog.pg_type T on T.oid = E.enumtypid
      where T.typnamespace = ?::oid
      order by pg_catalog.age(E.xmin)
      limit 1
    )
    union all
    (
    select xmin as last_tx
      from pg_catalog.pg_constraint
      where connamespace = ?::oid
      order by pg_catalog.age(xmin)
      limit 1
    )
    union all
    (
    select CO.xmin as last_tx
      from pg_catalog.pg_collation CO
      where CO.collnamespace = ?::oid
      order by pg_catalog.age(CO.xmin)
      limit 1
    )
    union all
    
    (
    select IX.xmin as last_tx
      from pg_catalog.pg_index IX,
           pg_catalog.pg_class IC
      where IC.oid = IX.indrelid
        and IC.relnamespace = ?::oid
        order by pg_catalog.age(IX.xmin)
        limit 1
    )
    union all
    (
    select RU.xmin as last_tx
      from pg_catalog.pg_rewrite RU,
           pg_catalog.pg_class RC
      where RC.oid = RU.ev_class
        and RC.relnamespace = ?::oid
        order by pg_catalog.age(RU.xmin)
        limit 1
    )
    union all
    (
    select TG.xmin as last_tx
      from pg_catalog.pg_trigger TG,
           pg_catalog.pg_class TC
      where TC.oid = TG.tgrelid
        and TC.relnamespace = ?::oid
        order by pg_catalog.age(TG.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_class C on C.oid = D.objoid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_constraint C on C.oid = D.objoid
      where C.connamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_trigger T on T.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = T.tgrelid
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_rewrite R on R.oid = D.objoid
        join pg_catalog.pg_class C on C.oid = R.ev_class
      where C.relnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_proc P on P.oid = D.objoid
      where P.pronamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_type T on T.oid = D.objoid
      where T.typnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_operator O on O.oid = D.objoid
      where O.oprnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    union all
    (
    select D.xmin as last_tx
      from pg_catalog.pg_description D
        join pg_catalog.pg_collation C on C.oid = D.objoid
      where C.collnamespace = ?::oid
        order by pg_catalog.age(D.xmin)
        limit 1
    )
    
  ) X
  order by pg_catalog.age(X.last_tx)
  limit 1
) C, saved_age SA
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896051] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896051] finished - execution time: 8 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896052] 
select case
  when pg_catalog.pg_is_in_recovery()
    then ?
  else
    pg_catalog.txid_current()::varchar::bigint
  end as current_txid
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896052] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896052] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896053] 
select L.transactionid::varchar::bigint as transaction_id
from pg_catalog.pg_locks L
where L.transactionid is not null
order by pg_catalog.age(L.transactionid) desc
limit 1
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896053] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896053] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896054] 
select cls.xmin as sequence_state_number,
       sq.seqrelid as sequence_id,
       cls.relname as sequence_name,
       pg_catalog.format_type(sq.seqtypid, null) as data_type,
       sq.seqstart as next_value,
       sq.seqincrement as inc_value,
       sq.seqmin as min_value,
       sq.seqmax as max_value,
       sq.seqcache as cache_size,
       sq.seqcycle as cycle_option,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_sequence sq
    join pg_class cls on sq.seqrelid = cls.oid
    where cls.relnamespace = ?::oid
          --  and pg_catalog.age(cls.xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896054] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896054] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896055] 
select T.oid as type_id,
       T.xmin as type_state_number,
       T.typname as type_name,
       T.typtype as type_sub_kind,
       T.typcategory as type_category,
       T.typrelid as class_id,
       T.typbasetype as base_type_id,
       case when T.typtype in ('c','e') then null
            else pg_catalog.format_type(T.typbasetype, T.typtypmod) end as type_def,
       T.typdefault as default_expression,
       T.typnotnull as mandatory,
       pg_catalog.pg_get_userbyid(T.typowner) as "owner"
from pg_catalog.pg_type T
         left outer join pg_catalog.pg_class C
             on T.typrelid = C.oid
where T.typnamespace = ?::oid
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
  and (T.typtype in ('d','e') or C.relkind = 'c'::"char" or T.typtype = 'b' and (T.typelem = 0 OR T.typcategory <> 'A'))
order by 1
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896055] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896055] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896056] 
select T.relkind as table_kind,
       T.relname as table_name,
       T.oid as table_id,
       T.xmin as table_state_number,
       false /* T.relhasoids */ as table_with_oids,
       T.relnamespace as tablespace_id,
       T.reloptions as options,
       (select pg_catalog.array_agg(inhparent)::varchar from (select inhparent::bigint from pg_catalog.pg_inherits where T.oid = inhrelid order by inhseqno) as bts) as ancestors,
       (select pg_catalog.array_agg(inhrelid)::varchar from (select inhrelid::bigint from pg_catalog.pg_inherits where T.oid = inhparent order by inhrelid) as its) as successors,
       T.relispartition /* false */ as is_partition,
       pg_catalog.pg_get_partkeydef(T.oid) /* null */ as partition_key,
       pg_catalog.pg_get_expr(T.relpartbound, T.oid) /* null */ as partition_expression,
       pg_catalog.pg_get_userbyid(T.relowner) as "owner"
from pg_catalog.pg_class T
where relnamespace = ?::oid
  and relkind in ('r', 'm', 'v', 'f', 'p')
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
order by table_kind, table_id
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896056] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896056] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896057] 
select ft.ftrelid as table_id,
       srv.srvname as table_server,
       ft.ftoptions as table_options,
       pg_catalog.pg_get_userbyid(cls.relowner) as "owner"
from pg_catalog.pg_foreign_table ft
     left outer join pg_catalog.pg_foreign_server srv on ft.ftserver = srv.oid
     join pg_catalog.pg_class cls on ft.ftrelid = cls.oid
where cls.relnamespace = ?::oid
  --  and pg_catalog.age(ft.xmin) <= pg_catalog.age(:tx::varchar::xid)
order by table_id
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896057] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896057] finished - execution time: 2 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896058] 
with schema_procs as (select prorettype, proargtypes, proallargtypes
                      from pg_catalog.pg_proc
                      where pronamespace = ?::oid
                        /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */ ),
     schema_opers as (select oprleft, oprright, oprresult
                      from pg_catalog.pg_operator
                      where oprnamespace = ?::oid
                        /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */ ),
     schema_aggregates as (select A.aggtranstype , A.aggmtranstype 
                           from pg_catalog.pg_aggregate A
                           join pg_catalog.pg_proc P
                             on A.aggfnoid = P.oid
                           where P.pronamespace = ?::oid
                           /* and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(:tx::varchar::xid)) */),
     schema_arg_types as ( select prorettype as type_id
                           from schema_procs
                           union
                           select distinct unnest(proargtypes) as type_id
                           from schema_procs
                           union
                           select distinct unnest(proallargtypes) as type_id
                           from schema_procs
                           union
                           select oprleft as type_id
                           from schema_opers
                           where oprleft is not null
                           union
                           select oprright as type_id
                           from schema_opers
                           where oprright is not null
                           union
                           select oprresult as type_id
                           from schema_opers
                           where oprresult is not null
                           union
                           select aggtranstype::oid as type_id
                           from schema_aggregates
                           union
                           select aggmtranstype::oid as type_id
                           from schema_aggregates
                           
                           )
select type_id, pg_catalog.format_type(type_id, null) as type_spec
from schema_arg_types
where type_id <> 0
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896058] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896058] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896059] 
with languages as (select oid as lang_oid, lanname as lang
                   from pg_catalog.pg_language),
     routines as (select proname as r_name,
                         prolang as lang_oid,
                         oid as r_id,
                         xmin as r_state_number,
                         proargnames as arg_names,
                         proargmodes as arg_modes,
                         proargtypes::int[] as in_arg_types,
                         proallargtypes::int[] as all_arg_types,
                         pg_catalog.pg_get_expr(proargdefaults, 0) as arg_defaults,
                         provariadic as arg_variadic_id,
                         prorettype as ret_type_id,
                         proretset as ret_set,
                         prokind /* case when proiswindow then 'w'
                                                when proisagg then 'a'
                                                else 'f'
                                           end */ as kind,
                         provolatile as volatile_kind,
                         proisstrict as is_strict,
                         prosecdef as is_security_definer,
                         proconfig as configuration_parameters,
                         procost as cost,
                         pg_catalog.pg_get_userbyid(proowner) as "owner",
                         prorows as rows ,
                         proleakproof as is_leakproof  ,
                         proparallel as concurrency_kind 
                  from pg_catalog.pg_proc
                  where pronamespace = ?::oid
                    and not (prokind = 'a') /* proisagg */
                    /* and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid) */)
select *
from routines natural join languages
-- ] --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896059] results received
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896059] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:04 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896060] 
with procedures as (
  select P.oid as function_id,
         pg_catalog.quote_ident(N.nspname) || '.' || pg_catalog.quote_ident(P.proname) as function_name,
         P.prorettype as return_type
  from pg_catalog.pg_proc P
  join pg_catalog.pg_namespace N
    on P.pronamespace = N.oid
),
operators as (
  select O.oid as operator_id,
         pg_catalog.quote_ident(N.nspname) || '.' || O.oprname as operator_name
  from pg_catalog.pg_operator O
  join pg_catalog.pg_namespace N
    on O.oprnamespace = N.oid
)
select P.oid as aggregate_id,
       P.xmin as state_number,
       P.proname as aggregate_name,
       P.proargnames as arg_names,
       P.proargmodes as arg_modes,
       P.proargtypes::int[] as in_arg_types,
       P.proallargtypes::int[] as all_arg_types,
       A.aggtransfn::oid as transition_function_id,
       PT.function_name::text as transition_function_name,
       A.aggtranstype as transition_type,
       A.aggfinalfn::oid as final_function_id,
       case when A.aggfinalfn::oid = 0 then null else PF.function_name end as final_function_name,
       case when A.aggfinalfn::oid = 0 then 0 else PF.return_type end as final_return_type,
       A.agginitval as initial_value,
       A.aggsortop as sort_operator_id,
       case when A.aggsortop = 0 then null else O.operator_name end as sort_operator_name,
       pg_catalog.pg_get_userbyid(P.proowner) as "owner"
       ,
       A.aggfinalextra as final_extra,
       A.aggtransspace as state_size,
       A.aggmtransfn::oid as moving_transition_id,
       case when A.aggmtransfn::oid = 0 then null else FTP.function_name end as moving_transition_name,
       A.aggminvtransfn::oid as inverse_transition_id,
       case when A.aggminvtransfn::oid = 0 then null else ITP.function_name end as inverse_transition_name,
       A.aggmtranstype::oid as moving_state_type,
       A.aggmtransspace as moving_state_size,
       A.aggmfinalfn::oid as moving_final_id,
       case when A.aggmfinalfn::oid = 0 then null else FFP.function_name end as moving_final_name,
       A.aggmfinalextra as moving_final_extra,
       A.aggminitval as moving_initial_value,
       A.aggkind as aggregate_kind,
       A.aggnumdirectargs as direct_args
       
       ,
       A.aggcombinefn::oid as combine_function_id,
       case when A.aggcombinefn::oid = 0 then null else CP.function_name end as combine_function_name,
       A.aggserialfn::oid as serialization_function_id,
       case when A.aggserialfn::oid = 0 then null else SP.function_name end as serialization_function_name,
       A.aggdeserialfn::oid as deserialization_function_id,
       case when A.aggdeserialfn::oid = 0 then null else DP.function_name end as deserialization_function_name,
       P.proparallel as concurrency_kind
       
from pg_catalog.pg_aggregate A
join pg_catalog.pg_proc P
  on A.aggfnoid = P.oid
join procedures PT
  on A.aggtransfn::oid = PT.function_id
left outer join procedures PF
  on A.aggfinalfn::oid = PF.function_id
left outer join operators O
  on A.aggsortop = O.operator_id
left outer join procedures FTP
  on A.aggmtransfn = FTP.function_id
left outer join procedures ITP
  on A.aggminvtransfn = ITP.function_id
left outer join procedures FFP
  on A.aggmfinalfn = FFP.function_id

left outer join procedures CP
  on A.aggcombinefn = CP.function_id
left outer join procedures SP
  on A.aggserialfn = SP.function_id
left outer join procedures DP
  on A.aggdeserialfn = DP.function_id

where P.pronamespace = ?::oid
--  and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(P.xmin) <= pg_catalog.age(:tx::varchar::xid))
order by P.oid
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896060] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896060] finished - execution time: 1 s 50 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896061] 
select O.oid as op_id,
       O.xmin as state_number,
       oprname as op_name,
       oprkind as op_kind,
       oprleft as arg_left_type_id,
       oprright as arg_right_type_id,
       oprresult as arg_result_type_id,
       oprcode as func_main,
       pg_catalog.pg_get_userbyid(O.oprowner) as "owner"
from pg_catalog.pg_operator O
where oprnamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896061] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896061] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896062] 
select oid as id,
       xmin as state_number,
       collname as name,
       collcollate as lc_collate,
       collctype as lc_ctype,
       pg_catalog.pg_get_userbyid(collowner) as "owner"
from pg_catalog.pg_collation
where collnamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896062] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896062] finished - execution time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896063] 
with T as ( select distinct T.oid as table_id, T.relname as table_name
            from pg_catalog.pg_class T,
                 pg_catalog.pg_attribute A
            where T.relnamespace = ?::oid
              and T.relkind in ('r', 'm', 'v', 'f', 'p')
              --  and (pg_catalog.age(A.xmin) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid))
              and A.attrelid = T.oid )
select T.table_id,
       C.attnum as column_position,
       C.attname as column_name,
       C.xmin as column_state_number,
       C.atttypmod as type_mod,
       C.attndims as dimensions_number,
       pg_catalog.format_type(C.atttypid, C.atttypmod) as type_spec,
       C.atttypid as type_id,
       C.attnotnull as mandatory,
       pg_catalog.pg_get_expr(D.adbin, T.table_id) /* D.adsrc */ as column_default_expression,
       not C.attislocal as column_is_inherited,
       C.attfdwoptions as options,
       C.attisdropped as column_is_dropped,
       C.attidentity /* null */ as identity_kind
from T
  inner join pg_catalog.pg_attribute C on T.table_id = C.attrelid
  left outer join pg_catalog.pg_attrdef D on (C.attrelid, C.attnum) = (D.adrelid, D.adnum)
where attnum > 0
order by table_id, attnum
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896063] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896063] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896064] 
with tab as ( select relnamespace as schema_id,
                     oid as table_id,
                     relkind as table_kind
              from pg_catalog.pg_class
              where relnamespace = ?::oid
                and relkind in ('r','m','v','p')),
    ind_head as ( select indrelid as table_id,
                         indexrelid as index_id,
                         indisunique as is_unique,
                         indisprimary as is_primary,
                         indkey as column_positions,
                         indclass as column_operators,
                         indoption as column_options,
                         pg_catalog.pg_get_expr(indpred, indrelid) as condition,
                         case when indexprs is not null
                             then pg_catalog.array_to_string(array(
                                      select case when indkey[k] = 0
                                             then chr(27) || pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             else pg_catalog.pg_get_indexdef(indexrelid, k + 1, true)
                                             end
                                      from pg_catalog.generate_subscripts(indkey, 1) as k
                                      order by k),
                                  chr(28))
                             else null end as expressions
                  from pg_catalog.pg_index ),
    ind_stor as ( select cls.relnamespace as schema_id,
                         cls.oid as index_id,
                         cls.xmin as state_number,
                         cls.relname as index_name,
                         pg_catalog.pg_indexam_has_property(cls.relam, 'can_order') /* am.amcanorder */ as can_order
                  from pg_catalog.pg_class cls
                    /* join pg_catalog.pg_am am on (cls.relam = am.oid)*/
                  where cls.relkind = 'i'
                    /* and pg_catalog.age(cls.xmin) <= pg_catalog.age(:tx::varchar::xid) */)
select table_id, table_kind,
       index_name, index_id, state_number,
       is_unique, is_primary,
       column_positions, column_operators, column_options,
       condition, expressions, can_order
from tab natural join ind_head natural join ind_stor
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896064] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896064] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896065] 
with T as ( select oid as table_id,
                   relkind as table_kind,
                   xmin as table_state_id
            from pg_catalog.pg_class
            where relkind in ('r','v','f','p')
              and relnamespace = ?::oid ),
     C as ( select conrelid as table_id,
                   oid::bigint as con_id,
                   xmin as con_state_id,
                   conname as con_name,
                   contype as con_kind,
                   conkey as con_columns,
                   conindid as index_id,
                   confrelid as ref_table_id,
                   confkey as ref_columns,
                   condeferrable as is_deferrable,
                   condeferred as is_init_deferred,
                   confupdtype as on_update,
                   confdeltype as on_delete,
                   conbin /* consrc */
            from pg_catalog.pg_constraint
            where contype in ('p','u','f','c')
              and connamespace = ?::oid )
select table_id,
       table_kind,
       con_id,
       con_state_id::varchar::bigint as con_state_id,
       con_name,
       con_kind,
       con_columns,
       index_id,
       ref_table_id,
       is_deferrable,
       is_init_deferred,
       on_update,
       on_delete,
       pg_catalog.pg_get_expr(conbin, table_id) /* consrc */ as con_expression,
       ref_columns
from T natural join C
--  where pg_catalog.age(table_state_id) <= pg_catalog.age(:tx::varchar::xid) or pg_catalog.age(con_state_id) <= pg_catalog.age(:tx::varchar::xid)
order by pg_catalog.strpos('pufc', con_kind)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896065] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896065] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896066] 
select R.ev_class as table_id,
       R.oid as rule_id,
       R.xmin as rule_state_number,
       R.rulename as rule_name,
       pg_catalog.translate(ev_type,'1234','SUID') as rule_event_code,
       R.ev_enabled as rule_fire_mode,
       R.is_instead as rule_is_instead
from pg_catalog.pg_rewrite R
where R.ev_class in (select oid
                     from pg_catalog.pg_class
                     where relnamespace = ?::oid)
  --  and pg_catalog.age(R.xmin) <= pg_catalog.age(:tx::varchar::xid)
  and R.rulename != '_RETURN'::name
order by R.ev_class::bigint, ev_type
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896066] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896066] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896067] 
select T.tgrelid as table_id,
       T.oid as trigger_id,
       T.xmin as trigger_state_number,
       T.tgname as trigger_name,
       T.tgfoid as function_id,
       T.tgtype & 31 as bits,
       T.tgdeferrable as is_deferrable,
       T.tginitdeferred as is_init_deferred,
       T.tgenabled as trigger_fire_mode,
       T.tgattr as columns,
       pg_catalog.pg_get_triggerdef(T.oid, true) as source_code
from pg_catalog.pg_trigger T
where T.tgrelid in (select oid
                    from pg_catalog.pg_class
                    where relnamespace = ?::oid)
  --  and pg_catalog.age(T.xmin) <= pg_catalog.age(:tx::varchar::xid)
  and not T.tgisinternal
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896067] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896067] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896068] 
select D.objoid id, C.relkind as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_class C on D.objoid = C.oid
where C.relnamespace = ?::oid and C.relkind != 'c'
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select T.oid id, 'T' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_type T on T.oid = D.objoid or T.typrelid = D.objoid
  left join pg_catalog.pg_class C on T.typrelid = C.oid
where T.typnamespace = ?::oid and (C.relkind = 'c' or C.relkind is null)
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, pg_catalog.translate(C.contype, 'pufc', 'kkxz') as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_constraint C on D.objoid = C.oid
where C.connamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 't' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_trigger T on T.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = T.tgrelid
where C.relnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'R' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_rewrite R on R.oid = D.objoid
  join pg_catalog.pg_class C on C.oid = R.ev_class
where C.relnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'F' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_proc P on P.oid = D.objoid
where P.pronamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'O' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_operator O on O.oid = D.objoid
where O.oprnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)
union all
select D.objoid id, 'C' as kind, D.objsubid sub_id, D.description
from pg_catalog.pg_description D
  join pg_catalog.pg_collation C on C.oid = D.objoid
where C.collnamespace = ?::oid
--  and pg_catalog.age(D.xmin) <= pg_catalog.age(:tx::varchar::xid)

-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896068] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896068] finished - execution time: 3 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896069] 
select distinct
       T.relkind as view_kind,
       T.oid as view_id,
       pg_catalog.pg_get_viewdef(T.oid, true) as source_text
from pg_catalog.pg_class T
  join pg_catalog.pg_namespace N on T.relnamespace = N.oid
  left outer join pg_catalog.pg_attribute A on (A.attrelid = T.oid)
where N.oid = ?::oid
  and T.relkind in ('m','v')
  --  and (pg_catalog.age(T.xmin) <= pg_catalog.age(:src_tx::varchar::xid) or pg_catalog.age(A.xmin) <= pg_catalog.age(:src_tx::varchar::xid))
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896069] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896069] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896070] 
with A as ( select oid as table_id, pg_catalog.upper(relkind) as table_kind
            from pg_catalog.pg_class
            where relnamespace = ?::oid
              and relkind in ('r', 'm', 'v', 'f', 'p') )
select table_kind,
       table_id,
       R.oid as rule_id,
       pg_catalog.pg_get_ruledef(R.oid, true) as source_text
from A join pg_catalog.pg_rewrite R
        on A.table_id = R.ev_class
where R.rulename != '_RETURN'::name
  --  and pg_catalog.age(R.xmin) <= pg_catalog.age(:src_tx::varchar::xid)
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896070] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896070] finished - execution time: 1 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896071] 
with system_languages as ( select oid as lang
                           from pg_catalog.pg_language
                           where lanname in ('c','internal') )
select oid as id,
       pg_catalog.pg_get_function_arguments(oid) as arguments_def,
       pg_catalog.pg_get_function_result(oid) as result_def,
       prosrc as source_text
from pg_catalog.pg_proc
where pronamespace = ?::oid
  --  and pg_catalog.age(xmin) <= pg_catalog.age(:src_tx::varchar::xid)
  and not (prokind = 'a') /* proisagg */
  and prolang not in (select lang from system_languages)
  and prosrc is not null
-- ] --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896071] results received
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896071] finished - execution time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-11-12 02:13:05 [testy2] [PsqlDatabase@localhost] [introspection] [session id: 1116005386] [statement id: 563896072] 
select T.oid as object_id,
                 unnest(T.relacl) as aclitem
          from pg_catalog.pg_class T
          where relnamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.proacl) as aclitem
          from pg_catalog.pg_proc T
          where pronamespace = ?::oid 
          union all
          select T.oid as object_id,
                 unnest(T.typacl) as aclitem
          from pg_catalog.pg_type T
          where typnamespace = ?::oid 
          order by object_id
-- ] --------------------------------------------------
